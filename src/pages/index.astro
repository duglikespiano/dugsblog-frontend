---
import RootLayout from "../layouts/RootLayout.astro";
---

<RootLayout />

<style is:global>
  [data-menu-button] {
    display: none;
  }
</style>

<script>
  import { isStringLanguage } from "../common/functions";
  const languageFromLocalStorage = localStorage.getItem("dugsblog-language");
  const languageFromUrl = navigator.language.split("-")[0];
  if (languageFromLocalStorage && isStringLanguage(languageFromLocalStorage)) {
    location.href = `/${languageFromLocalStorage}/`;
  }

  if (!languageFromLocalStorage) {
    if (languageFromUrl === "ko") {
      localStorage.setItem("dugsblog-language", "ko");
      location.href = "/ko";
    } else if (languageFromUrl === "ja") {
      localStorage.setItem("dugsblog-language", "ja");
      location.href = "/ja";
    } else {
      localStorage.setItem("dugsblog-language", "en");
      location.href = "/en";
    }
  }
</script>
